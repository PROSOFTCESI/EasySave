<Page x:Class="EasySave.Graphic3._0.View.MainMenu"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:EasySave.Graphic3._0.View"
      mc:Ignorable="d" 
      d:DesignHeight="650" d:DesignWidth="1000"
      Title="MainMenu">

    <Grid>
        <!-- DÃ©finition des lignes -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Barre supÃ©rieure -->
            <RowDefinition Height="Auto"/>
            <!-- Boutons et contrÃ´les -->
            <RowDefinition Height="*"/>
            <!-- Liste des Ã©lÃ©ments -->
        </Grid.RowDefinitions>

        <!-- Barre supÃ©rieure avec le titre et le bouton paramÃ¨tres -->
        <DockPanel Grid.Row="0" Margin="10">
            <!-- Titre centrÃ© -->
            <Label Content="EasySave 3.0" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center" DockPanel.Dock="Top"/>

            <!-- Bouton paramÃ¨tres (en haut Ã  droite) -->
            <Button Content="âš™" FontSize="16" Padding="10,5" HorizontalAlignment="Right"
                    Click="SettingsButton_Click" Width="35" Height="35"/>
        </DockPanel>

        <!-- Section des boutons "+" et "âŸ³" en haut Ã  gauche -->
        <DockPanel Grid.Row="1" Margin="10">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                <Button Content="+" FontWeight="Bold" FontSize="20" Margin="5" Padding="10,5"
                        Click="CreateButton_Click" Width="35" Height="40"/>
                <Button Content="âŸ³" FontWeight="Bold" FontSize="20" Margin="5" Padding="10,5"
                        Click="RefreshButton_Click" Width="35" Height="40"/>
            </StackPanel>
        </DockPanel>

        <!-- Liste des Ã©lÃ©ments affichÃ©s verticalement -->
        <ListBox Grid.Row="2" x:Name="ItemList" ItemsSource="{Binding AvailableSaveJobs}" Height="400">
            <!-- Organisation des items en colonne verticale -->
            <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Vertical"/>
                </ItemsPanelTemplate>
            </ListBox.ItemsPanel>

            <!-- Template pour chaque Ã©lÃ©ment -->
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border BorderThickness="1" BorderBrush="Gray" Padding="10" Margin="5" HorizontalAlignment="Center">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch">
                            <!-- Nom de la sauvegarde -->
                            <StackPanel Orientation="Vertical" Width="150">
                                <TextBlock Text="{Binding Name}" FontSize="22" FontWeight="Bold"/>
                                <TextBlock Text="{Binding State}" FontSize="18" FontWeight="Bold"/>
                            </StackPanel>

                            <!-- Chemins source et destination -->
                            <StackPanel Orientation="Vertical" Width="300">
                                <TextBlock Text="{Binding SourcePath}" FontSize="12"/>
                                <TextBlock Text="{Binding TargetPath}" FontSize="12"/>
                            </StackPanel>

                            <!-- Barre de progression -->
                            <ProgressBar Width="200" Height="10"
                                         Value="{Binding Progression, TargetNullValue=0}" VerticalAlignment="Center"/>

                            <!-- Boutons d'actions -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
                                <Button Content="â¯" Margin="5" Padding="5" Click="Play_Click"/>
                                <Button Content="â—¼" Margin="5" Padding="5" Click="Stop_Click"/>
                                <Button Content="ðŸ—‘ï¸" Margin="5" Padding="5" Click="Delete_Click"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

    </Grid>
</Page>
